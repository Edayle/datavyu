; MacSHAPA Open Database( setf macshapa-db '(    ( HEADER>      (        ( NAME> "OQL_Mod_Test_05.odb" )        ( VERSION> 1 )        ( DEBUG-LEVEL> 0 )        ( MAX-ERRORS> 1 )        ( MAX-WARNINGS> 1 )      )    )    ( USER>      (        ( PREDICATE-DEFINITIONS>          (            ( |comment| ( ( VARIABLE-LENGTH> FALSE ) ( FORMAL-ARG-LIST> ( |<text>| ) ) ) )            ( |junk| ( ( VARIABLE-LENGTH> FALSE ) ( FORMAL-ARG-LIST> ( |<arg_1>| |<arg2>| ) ) ) )          )        )        ( SPREADSHEET-VARIABLE-DECLARATIONS>          (            ( |v_matrix_1|              (                ( TYPE> <<MATRIX>> )                ( VARIABLE-LENGTH> TRUE )                ( FORMAL-ARG-LIST> ( |<ord>| |<onset>| |<offset>| |<val>| |<arg2>| |<arg3>| ) )                ( COLUMN-WIDTH> 200 )              )            )            ( |pred_1|              (                ( TYPE> <<PREDICATE>> )                ( VARIABLE-LENGTH> FALSE )                ( FORMAL-ARG-LIST> ( |<ord>| |<onset>| |<offset>| |<val>| ) )                ( COLUMN-WIDTH> 200 )              )            )            ( |text_1|              (                ( TYPE> <<TEXT>> )                ( VARIABLE-LENGTH> FALSE )                ( FORMAL-ARG-LIST> ( |<ord>| |<onset>| |<offset>| |<val>| ) )                ( COLUMN-WIDTH> 200 )              )            )            ( |nom_1|              (                ( TYPE> <<NOMINAL>> )                ( VARIABLE-LENGTH> FALSE )                ( FORMAL-ARG-LIST> ( |<ord>| |<onset>| |<offset>| |<val>| ) )                ( COLUMN-WIDTH> 200 )              )            )            ( |matrix_1|              (                ( TYPE> <<MATRIX>> )                ( VARIABLE-LENGTH> FALSE )                ( FORMAL-ARG-LIST> ( |<ord>| |<onset>| |<offset>| |<val>| ) )                ( COLUMN-WIDTH> 200 )              )            )            ( |float_1|              (                ( TYPE> <<FLOAT>> )                ( VARIABLE-LENGTH> FALSE )                ( FORMAL-ARG-LIST> ( |<ord>| |<onset>| |<offset>| |<val>| ) )                ( COLUMN-WIDTH> 200 )              )            )            ( |int_1|              (                ( TYPE> <<INTEGER>> )                ( VARIABLE-LENGTH> FALSE )                ( FORMAL-ARG-LIST> ( |<ord>| |<onset>| |<offset>| |<val>| ) )                ( COLUMN-WIDTH> 200 )              )            )          )        )        ( SPREADSHEET-VARIABLE-DEFINITIONS>          (            ( |v_matrix_1|              (                ( CELLS>                  (                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| |one| )                      ( |<arg2>| |two| )                      ( |<arg3>| |three| )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| ( |junk| 1 2 ) )                      ( |<arg2>| |Hello| )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "This is a Quote String" )                    )                  )                )                ( VOCAB> ( |junk| ) )              )            )            ( |pred_1|              (                ( CELLS>                  (                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| ( |junk| "Hello World" |<arg2>| ) )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| ( |junk| 1.000000 |Twas| ) )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| ( |junk| 1 ( TIME> 2 ) ) )                    )                  )                )                ( VOCAB> ( |junk| ) )              )            )            ( |text_1|              (                ( CELLS>                  (                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "gum" )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "Hello" )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "Twas brillig, and the slithey toves" )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "Did gyre and gymbal in the wabe." )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "All mimsey were the borrowgroves," )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "And the momraths outgabe." )                    )                  )                )              )            )            ( |nom_1|              (                ( CELLS>                  (                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| |Sasquatch| )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| |Alpha| )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| |Bravo| )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| |Charlie| )                    )                  )                )              )            )            ( |matrix_1|              (                ( CELLS>                  (                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| |Hello World| )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| "gymbal" )                    )                    (                      ( ONSET> 60 )                      ( OFFSET> 120 )                      ( |<val>| "gumball" )                    )                    (                      ( ONSET> 2160000 )                      ( OFFSET> 2160001 )                      ( |<val>| "gyre" )                    )                    (                      ( ONSET> 2416271 )                      ( OFFSET> 0 )                      ( |<val>| 3.141590 )                    )                    (                      ( ONSET> 4320000 )                      ( OFFSET> 6480000 )                      ( |<val>| |Twas| )                    )                  )                )                ( VOCAB> ( ) )              )            )            ( |float_1|              (                ( CELLS>                  (                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| 10.000000 )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| 20.000000 )                    )                    (                      ( ONSET> 0 )                      ( OFFSET> 0 )                      ( |<val>| 30.000000 )                    )                  )                )              )            )            ( |int_1|              (                ( CELLS>                  (                    (                      ( ONSET> 60 )                      ( OFFSET> 120 )                      ( |<val>| 1 )                    )                    (                      ( ONSET> 120 )                      ( OFFSET> 180 )                      ( |<val>| 2 )                    )                    (                      ( ONSET> 180 )                      ( OFFSET> 240 )                      ( |<val>| 3 )                    )                  )                )              )            )          )        )      )    )    ( QUERY>      (        ( |comment| "Tests for the select(), deselect(), and selected() predicates:" )         ()         ()         ( |comment| "First, an attempt to break things.  Both queries should fail to generate any matches." )         ( |query| ( |and| ( |matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |matrix_1| |<ord>| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| 6 ) ) ( |print| |?ord| |?val| ) )         ()         ()         ()         ()         ()         ( |comment| "In this batch of tests, we select a varcell in each kind of column variable, and then verify that the selected() predicate works as expected:" )         ()         ( |query| ( |and| ( |text_1| |?ord| |<onset>| |<offset>| |<val>| ) ( |eq| |?ord| 1 ) ) ( |select| ( |text_1| |?ord| |<onset>| |<offset>| |<val>| ) ) )         ( |query| ( |and| ( |text_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |text_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |text_1| |?ord| |<onset>| |<offset>| |?val| ) ( |not| ( |selected| ( |text_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )         ()         ( |query| ( |and| ( |matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ( |eq| |?ord| 1 ) ) ( |select| ( |matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) )         ( |query| ( |and| ( |matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |not| ( |selected| ( |matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )         ()         ( |query| ( |and| ( |int_1| |?ord| |<onset>| |<offset>| |<val>| ) ( |eq| |?ord| 1 ) ) ( |select| ( |int_1| |?ord| |<onset>| |<offset>| |<val>| ) ) )         ( |query| ( |and| ( |int_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |int_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |int_1| |?ord| |<onset>| |<offset>| |?val| ) ( |not| ( |selected| ( |int_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )         ()         ( |query| ( |and| ( |nom_1| |?ord| |<onset>| |<offset>| |<val>| ) ( |eq| |?ord| 1 ) ) ( |select| ( |nom_1| |?ord| |<onset>| |<offset>| |<val>| ) ) )         ( |query| ( |and| ( |nom_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |nom_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |nom_1| |?ord| |<onset>| |<offset>| |?val| ) ( |not| ( |selected| ( |nom_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )         ()         ( |query| ( |and| ( |float_1| |?ord| |<onset>| |<offset>| |<val>| ) ( |eq| |?ord| 1 ) ) ( |select| ( |float_1| |?ord| |<onset>| |<offset>| |<val>| ) ) )         ( |query| ( |and| ( |float_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |float_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |float_1| |?ord| |<onset>| |<offset>| |?val| ) ( |not| ( |selected| ( |float_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )         ()         ( |query| ( |and| ( |pred_1| |?ord| |<onset>| |<offset>| |<val>| ) ( |eq| |?ord| 1 ) ) ( |select| ( |pred_1| |?ord| |<onset>| |<offset>| |<val>| ) ) )         ( |query| ( |and| ( |pred_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |pred_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |pred_1| |?ord| |<onset>| |<offset>| |?val| ) ( |not| ( |selected| ( |pred_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )         ()         ( |query| ( |and| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ( |eq| |?ord| 1 ) ) ( |select| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) )         ( |query| ( |and| ( |or| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ) ( |selected| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |print| |?ord| |?val| ) )         ( |query| ( |and| ( |or| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ) ( |not| ( |selected| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )         ()         ()         ( |comment| "And then we put everything together:" )         ( |query| ( |or| ( |and| ( |text_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |text_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |and| ( |matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |and| ( |int_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |int_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |and| ( |nom_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |nom_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |and| ( |float_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |float_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |and| ( |pred_1| |?ord| |<onset>| |<offset>| |?val| ) ( |selected| ( |pred_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ( |and| ( |or| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ( |v_matrix_1| |?ord| |<onset>| |<offset>| |?val| ) ) ( |selected| ( |v_matrix_1| |?ord| |<onset>| |<offset>| |<val>| ) ) ) ) ( |print| |?ord| |?val| ) )       )    )    ( SYSTEM>      (        ( SHAPA-PANE-VARS>          (            |text_1|            |matrix_1|            |int_1|            |nom_1|            |float_1|            |pred_1|            |v_matrix_1|          )        )      )    )  ))